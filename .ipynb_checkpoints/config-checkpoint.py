# Author: Nicola Mendini
# Parameters of the model

import numpy as np

# RETINA LGN PARAMETERS
# ---------------------------------

RET_LOG_STD = 1
RET_STRENGTH = 1
LGN_STRENGTH = 0 
LGN_LOG_STD = 1
HARDGC = True
CG_STD = 4
CG_SCALER = 0.4
CG_EPS = 0.01
SAME_MEAN = True

# PARAMETER CONSOLE
# ---------------------------------

CROPSIZE = 38
EXPANSION = 4
ITERS = 20
K_STD = 4
N_BATCHES = 40000
LR = 1e-6
HOMEO_TIMESCALE = 0.999
TARGET_LR_DEC = 1
EXC_STD = 3
TARGET_STRENGTH = 0.8
COMPRESSION = 3
TARGET_ACT = 0.01
BASE_CORR = 0

# FLAGS
# ---------------------------------

PRINT = False
KEEP = False
RECO = True
RECOPRINT = False
LONGRUN_MODE = False

# MINOR PARAMETERS
# ---------------------------------

RECO_STRENGTH = 1
STRENGTH = 1
MINSIZE = 11
LEARNING = True
LR_DECAY = (1-1/N_BATCHES*np.log(TARGET_LR_DEC))

# SCALES OF THE INTERACTIONS
SCALE = round((EXC_STD)*5)
SCALE = SCALE+1 if SCALE%2==0 else SCALE

# dilation is twice the exc scale
DILATION = int(EXC_STD*2)

INH_SCALE = round(K_STD*EXPANSION/DILATION*5+1)
INH_SCALE = INH_SCALE+1 if INH_SCALE%2==0 else INH_SCALE

KSIZE = round(K_STD*5)
KSIZE = KSIZE+1 if KSIZE%2==0 else KSIZE

#INH_SCALE = 15

CORR_SAMPLES = 5
STATS_FREQ = 1
MAP_SAMPLS = 1000
CSTD = 1
MAPCHOP = 20
MAPCHOP = 0 if EXPANSION<1 else MAPCHOP
RECO = False if SCALE<1 else RECO
INPUT_SIZE = 96
GRID_SIZE = round(CROPSIZE*EXPANSION)